{"ast":null,"code":"import _regeneratorRuntime from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import ManageUsers from\"./ManageUsers\";import UsersForm from\"./CreateUser\";import AppointmentsForm from\"./CreateAppointment\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListUsers=function ListUsers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),display=_useState6[0],setDisplay=_useState6[1];var _useState7=useState(\"add\"),_useState8=_slicedToArray(_useState7,2),formType=_useState8[0],setFormType=_useState8[1];var _useState9=useState(\"add\"),_useState10=_slicedToArray(_useState9,2),formAType=_useState10[0],setFormAType=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),dataToEdit=_useState12[0],setDataToEdit=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),userId=_useState14[0],setUserId=_useState14[1];var handleClose=function handleClose(){setDataToEdit({userId:\"\",userName:\"\",userFirstName:\"\",userLastName:\"\",specialty:\"\",start_hour:\"\",end_hour:\"\",address:\"\",city:\"\",zipCode:\"\"});setShow(false);};var handleVanish=function handleVanish(){setUserId({userId:\"\"});setDisplay(false);};var handleShow=function handleShow(type,data){setFormType(type);setDataToEdit(data);setShow(true);};var handleDisplay=function handleDisplay(type,id){setFormAType(type);setUserId(id);setDisplay(true);};useEffect(function(){ManageUsers.getUsers().then(function(res){setUsers(res.data);});},[]);var deleteUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var filtredUsers;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ManageUsers.deleteUser(id);filtredUsers=users.filter(function(user){return user.id!==id;});_context.next=4;return setUsers(filtredUsers);case 4:case\"end\":return _context.stop();}}},_callee);}));return function deleteUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Manage Users\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return handleShow(\"add\");},children:\"Create New User\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Specialty\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Start Hour\"}),/*#__PURE__*/_jsx(\"th\",{children:\" End Hour\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\" City\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Zip Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.userId}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.username,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.userFirstName,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.userLastName,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.specialty,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:user.start_hour}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.end_hour]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.address]}),/*#__PURE__*/_jsx(\"td\",{children:user.city}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.zipCode,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"info\",onClick:function onClick(){return handleShow(\"edit\",user);},children:[\"Update\",\"\"]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:\"10px\"},onClick:function onClick(){return deleteUser(user.userId);},className:\"btn btn-danger\",children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{style:{marginLeft:\"10px\"},variant:\"primary\",onClick:function onClick(){return handleDisplay(\"add\",user.userId);},children:\"Show Appointments\"})]})]},user.userId);})})]}),/*#__PURE__*/_jsx(UsersForm,{show:show,handleClose:handleClose,as:formType,dataToEdit:dataToEdit}),/*#__PURE__*/_jsx(AppointmentsForm,{display:display,handleVanish:handleVanish,as:formAType,userId:userId})]})]});};export default ListUsers;","map":{"version":3,"names":["useState","useEffect","ManageUsers","UsersForm","AppointmentsForm","Button","ListUsers","users","setUsers","show","setShow","display","setDisplay","formType","setFormType","formAType","setFormAType","dataToEdit","setDataToEdit","userId","setUserId","handleClose","userName","userFirstName","userLastName","specialty","start_hour","end_hour","address","city","zipCode","handleVanish","handleShow","type","data","handleDisplay","id","getUsers","then","res","deleteUser","filtredUsers","filter","user","map","username","marginLeft"],"sources":["/home/aziz-amdouni/Wellness-Front/WellNess-frontend/src/components/layout/manage/ListUsers.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport ManageUsers from \"./ManageUsers\";\nimport UsersForm from \"./CreateUser\";\nimport AppointmentsForm from \"./CreateAppointment\";\nimport Button from \"react-bootstrap/Button\";\n\nconst ListUsers = () => {\n  const [users, setUsers] = useState([]);\n  const [show, setShow] = useState(false);\n  const [display, setDisplay] = useState(false);\n  const [formType, setFormType] = useState(\"add\");\n  const [formAType, setFormAType] = useState(\"add\");\n  const [dataToEdit, setDataToEdit] = useState({});\n  const [userId, setUserId] = useState({});\n\n  const handleClose = () => {\n    setDataToEdit({\n      userId: \"\",\n      userName: \"\",\n      userFirstName: \"\",\n      userLastName: \"\",\n      specialty: \"\",\n      start_hour: \"\",\n      end_hour: \"\",\n      address: \"\",\n      city: \"\",\n      zipCode: \"\",\n    });\n    setShow(false);\n  };\n\n  const handleVanish = () => {\n    setUserId({\n      userId: \"\",\n    });\n    setDisplay(false);\n  };\n\n  const handleShow = (type, data) => {\n    setFormType(type);\n    setDataToEdit(data);\n    setShow(true);\n  };\n\n  const handleDisplay = (type, id) => {\n    setFormAType(type);\n    setUserId(id);\n    setDisplay(true);\n  };\n\n  useEffect(() => {\n    ManageUsers.getUsers().then((res) => {\n      setUsers(res.data);\n    });\n  }, []);\n\n  const deleteUser = async (id) => {\n    ManageUsers.deleteUser(id);\n    const filtredUsers = users.filter((user) => user.id !== id);\n    await setUsers(filtredUsers);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-center\">Manage Users</h2>\n      <div className=\"row\">\n        <Button variant=\"primary\" onClick={() => handleShow(\"add\")}>\n          Create New User\n        </Button>\n      </div>\n      <br></br>\n      <div className=\"row\">\n        <table className=\"table table-striped table-bordered\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th> Username</th>\n              <th>First Name</th>\n              <th> Last Name</th>\n              <th> Specialty</th>\n              <th> Start Hour</th>\n              <th> End Hour</th>\n              <th> Address</th>\n              <th> City</th>\n              <th> Zip Code</th>\n              <th> Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => (\n              <tr key={user.userId}>\n                <td>{user.userId}</td>\n                <td> {user.username} </td>\n                <td> {user.userFirstName} </td>\n                <td> {user.userLastName} </td>\n                <td> {user.specialty} </td>\n                <td>{user.start_hour}</td>\n                <td> {user.end_hour}</td>\n                <td> {user.address}</td>\n                <td>{user.city}</td>\n                <td> {user.zipCode} </td>\n\n                <td>\n                  <Button\n                    variant=\"info\"\n                    onClick={() => handleShow(\"edit\", user)}\n                  >\n                    Update{\"\"}\n                  </Button>\n                  <button\n                    style={{ marginLeft: \"10px\" }}\n                    onClick={() => deleteUser(user.userId)}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n\n                  <Button\n                    style={{ marginLeft: \"10px\" }}\n                    variant=\"primary\"\n                    onClick={() => handleDisplay(\"add\", user.userId)}\n                  >\n                    Show Appointments\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <UsersForm\n          show={show}\n          handleClose={handleClose}\n          as={formType}\n          dataToEdit={dataToEdit}\n        />\n        <AppointmentsForm\n          display={display}\n          handleVanish={handleVanish}\n          as={formAType}\n          userId={userId}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ListUsers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}