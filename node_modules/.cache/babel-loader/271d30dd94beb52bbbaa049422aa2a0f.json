{"ast":null,"code":"import _regeneratorRuntime from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import ManageArticles from\"./ManageArticles\";import ArctileForm from\"./CreateArticle\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListArticles=function ListArticles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(\"add\"),_useState6=_slicedToArray(_useState5,2),formType=_useState6[0],setFormType=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),dataToEdit=_useState8[0],setDataToEdit=_useState8[1];var handleClose=function handleClose(){setDataToEdit({title:\"\",description:\"\",content:\"\"});setShow(false);};var handleShow=function handleShow(type,data){setFormType(type);setDataToEdit(data);setShow(true);};useEffect(function(){ManageArticles.getArticles().then(function(res){setArticles(res.data);});},[]);var deleteArticle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var filtredArticles;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ManageArticles.deleteArticle(id);filtredArticles=articles.filter(function(article){return article.id!==id;});_context.next=4;return setArticles(filtredArticles);case 4:case\"end\":return _context.stop();}}},_callee);}));return function deleteArticle(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Manage Articles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return handleShow(\"add\");},children:\"Create New Article\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Publish Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Content\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:articles.map(function(article){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:article.articleId}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",article.title,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:article.publishDate}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",article.description]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",article.content]}),/*#__PURE__*/_jsx(\"td\",{children:article.image}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"info\",onClick:function onClick(){return handleShow(\"edit\",article);},children:[\"Update\",\"\"]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:\"10px\"},onClick:function onClick(){return deleteArticle(article.articleId);},className:\"btn btn-danger\",children:\"Delete\"})]})]},article.articleId);})})]}),/*#__PURE__*/_jsx(ArctileForm,{show:show,handleClose:handleClose,as:formType,dataToEdit:dataToEdit})]})]});};export default ListArticles;","map":{"version":3,"names":["useState","useEffect","ManageArticles","ArctileForm","Button","ListArticles","articles","setArticles","show","setShow","formType","setFormType","dataToEdit","setDataToEdit","handleClose","title","description","content","handleShow","type","data","getArticles","then","res","deleteArticle","id","filtredArticles","filter","article","map","articleId","publishDate","image","marginLeft"],"sources":["/home/aziz-amdouni/Wellness-Front/WellNess-frontend/src/components/layout/manage/ListArticles.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport ManageArticles from \"./ManageArticles\";\nimport ArctileForm from \"./CreateArticle\";\nimport Button from \"react-bootstrap/Button\";\n\nconst ListArticles = () => {\n  const [articles, setArticles] = useState([]);\n  const [show, setShow] = useState(false);\n  const [formType, setFormType] = useState(\"add\");\n  const [dataToEdit, setDataToEdit] = useState({});\n\n  const handleClose = () => {\n    setDataToEdit({ title: \"\", description: \"\", content: \"\" });\n    setShow(false);\n  };\n\n  const handleShow = (type, data) => {\n    setFormType(type);\n    setDataToEdit(data);\n    setShow(true);\n  };\n\n  useEffect(() => {\n    ManageArticles.getArticles().then((res) => {\n      setArticles(res.data);\n    });\n  }, []);\n\n  const deleteArticle = async (id) => {\n    ManageArticles.deleteArticle(id);\n    const filtredArticles = articles.filter((article) => article.id !== id);\n    await setArticles(filtredArticles);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-center\">Manage Articles</h2>\n      <div className=\"row\">\n        <Button variant=\"primary\" onClick={() => handleShow(\"add\")}>\n          Create New Article\n        </Button>\n      </div>\n      <br></br>\n      <div className=\"row\">\n        <table className=\"table table-striped table-bordered\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th> Title</th>\n              <th>Publish Date</th>\n              <th> Description</th>\n              <th> Content</th>\n              <th> Image</th>\n              <th> Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {articles.map((article) => (\n              <tr key={article.articleId}>\n                <td>{article.articleId}</td>\n                <td> {article.title} </td>\n                <td>{article.publishDate}</td>\n                <td> {article.description}</td>\n                <td> {article.content}</td>\n                <td>{article.image}</td>\n                <td>\n                  <Button\n                    variant=\"info\"\n                    onClick={() => handleShow(\"edit\", article)}\n                  >\n                    Update{\"\"}\n                  </Button>\n                  <button\n                    style={{ marginLeft: \"10px\" }}\n                    onClick={() => deleteArticle(article.articleId)}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <ArctileForm\n          show={show}\n          handleClose={handleClose}\n          as={formType}\n          dataToEdit={dataToEdit}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ListArticles;\n"],"mappings":"2aAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,YAAP,KAAwB,iBAAxB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAwBP,QAAQ,CAAC,KAAD,CAAhC,yCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAgCT,QAAQ,CAAC,KAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAoCX,QAAQ,CAAC,EAAD,CAA5C,yCAAOY,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBD,aAAa,CAAC,CAAEE,KAAK,CAAE,EAAT,CAAaC,WAAW,CAAE,EAA1B,CAA8BC,OAAO,CAAE,EAAvC,CAAD,CAAb,CACAR,OAAO,CAAC,KAAD,CAAP,CACD,CAHD,CAKA,GAAMS,WAAU,CAAG,QAAbA,WAAa,CAACC,IAAD,CAAOC,IAAP,CAAgB,CACjCT,WAAW,CAACQ,IAAD,CAAX,CACAN,aAAa,CAACO,IAAD,CAAb,CACAX,OAAO,CAAC,IAAD,CAAP,CACD,CAJD,CAMAR,SAAS,CAAC,UAAM,CACdC,cAAc,CAACmB,WAAf,GAA6BC,IAA7B,CAAkC,SAACC,GAAD,CAAS,CACzChB,WAAW,CAACgB,GAAG,CAACH,IAAL,CAAX,CACD,CAFD,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMI,cAAa,4FAAG,iBAAOC,EAAP,wIACpBvB,cAAc,CAACsB,aAAf,CAA6BC,EAA7B,EACMC,eAFc,CAEIpB,QAAQ,CAACqB,MAAT,CAAgB,SAACC,OAAD,QAAaA,QAAO,CAACH,EAAR,GAAeA,EAA5B,EAAhB,CAFJ,uBAGdlB,YAAW,CAACmB,eAAD,CAHG,uDAAH,kBAAbF,cAAa,4CAAnB,CAMA,mBACE,oCACE,WAAI,SAAS,CAAC,aAAd,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,yBAAMN,WAAU,CAAC,KAAD,CAAhB,EAAnC,gCADF,EAFF,cAOE,aAPF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,eAAO,SAAS,CAAC,oCAAjB,wBACE,oCACE,mCACE,0BADF,cAEE,8BAFF,cAGE,oCAHF,cAIE,oCAJF,cAKE,gCALF,cAME,8BANF,cAOE,gCAPF,GADF,EADF,cAYE,uBACGZ,QAAQ,CAACuB,GAAT,CAAa,SAACD,OAAD,qBACZ,mCACE,oBAAKA,OAAO,CAACE,SAAb,EADF,cAEE,0BAAMF,OAAO,CAACb,KAAd,OAFF,cAGE,oBAAKa,OAAO,CAACG,WAAb,EAHF,cAIE,0BAAMH,OAAO,CAACZ,WAAd,GAJF,cAKE,0BAAMY,OAAO,CAACX,OAAd,GALF,cAME,oBAAKW,OAAO,CAACI,KAAb,EANF,cAOE,mCACE,MAAC,MAAD,EACE,OAAO,CAAC,MADV,CAEE,OAAO,CAAE,yBAAMd,WAAU,CAAC,MAAD,CAASU,OAAT,CAAhB,EAFX,oBAIS,EAJT,GADF,cAOE,eACE,KAAK,CAAE,CAAEK,UAAU,CAAE,MAAd,CADT,CAEE,OAAO,CAAE,yBAAMT,cAAa,CAACI,OAAO,CAACE,SAAT,CAAnB,EAFX,CAGE,SAAS,CAAC,gBAHZ,oBAPF,GAPF,GAASF,OAAO,CAACE,SAAjB,CADY,EAAb,CADH,EAZF,GADF,cA0CE,KAAC,WAAD,EACE,IAAI,CAAEtB,IADR,CAEE,WAAW,CAAEM,WAFf,CAGE,EAAE,CAAEJ,QAHN,CAIE,UAAU,CAAEE,UAJd,EA1CF,GARF,GADF,CA4DD,CAzFD,CA2FA,cAAeP,aAAf"},"metadata":{},"sourceType":"module"}