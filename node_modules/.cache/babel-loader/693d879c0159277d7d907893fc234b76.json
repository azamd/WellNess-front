{"ast":null,"code":"import _regeneratorRuntime from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aziz-amdouni/Wellness-Front/WellNess-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import ManageAppointments from\"./ManageAppointments\";import AppointmentsForm from\"./CreateAppointment\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Appointments=function Appointments(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),appointments=_useState2[0],setAppointments=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(\"add\"),_useState6=_slicedToArray(_useState5,2),formType=_useState6[0],setFormType=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),dataToEdit=_useState8[0],setDataToEdit=_useState8[1];var handleClose=function handleClose(){setDataToEdit({AppId:\"\",AppHour:\"\",AppDate:\"\",AppStatus:\"\",AppReport:\"\",appointmentRate:\"\",user:\"\"});setShow(false);};var handleShow=function handleShow(type,data){setFormType(type);setDataToEdit(data);setShow(true);};useEffect(function(){ManageAppointments.getAppointments().then(function(res){setAppointments(res.data);});},[]);var deleteAppointment=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var filtredAppointments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ManageAppointments.deleteArticle(id);filtredAppointments=appointments.filter(function(appointment){return appointment.id!==id;});_context.next=4;return setAppointments(filtredAppointments);case 4:case\"end\":return _context.stop();}}},_callee);}));return function deleteAppointment(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Manage Appointments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return handleShow(\"add\");},children:\"Create New Appointment\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Start Hour\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Report\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:appointments.map(function(appointment){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:appointment.appId}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",appointment.appHour,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:appointment.appDate}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",appointment.appStatus]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",appointment.appReport]}),/*#__PURE__*/_jsx(\"td\",{children:appointment.appointmentRate.satisfaction}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"info\",onClick:function onClick(){return handleShow(\"edit\",appointment);},children:[\"Update\",\"\"]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:\"10px\"},onClick:function onClick(){return deleteAppointment(appointment.AppId);},className:\"btn btn-danger\",children:\"Delete\"})]})]},appointment.appId);})})]}),/*#__PURE__*/_jsx(AppointmentsForm,{show:show,handleClose:handleClose,as:formType,dataToEdit:dataToEdit})]})]});};export default Appointments;","map":{"version":3,"names":["useState","useEffect","ManageAppointments","AppointmentsForm","Button","Appointments","appointments","setAppointments","show","setShow","formType","setFormType","dataToEdit","setDataToEdit","handleClose","AppId","AppHour","AppDate","AppStatus","AppReport","appointmentRate","user","handleShow","type","data","getAppointments","then","res","deleteAppointment","id","deleteArticle","filtredAppointments","filter","appointment","map","appId","appHour","appDate","appStatus","appReport","satisfaction","marginLeft"],"sources":["/home/aziz-amdouni/Wellness-Front/WellNess-frontend/src/components/layout/manage/Appointments.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport ManageAppointments from \"./ManageAppointments\";\nimport AppointmentsForm from \"./CreateAppointment\";\nimport Button from \"react-bootstrap/Button\";\n\nconst Appointments = () => {\n  const [appointments, setAppointments] = useState([]);\n  const [show, setShow] = useState(false);\n  const [formType, setFormType] = useState(\"add\");\n  const [dataToEdit, setDataToEdit] = useState({});\n\n  const handleClose = () => {\n    setDataToEdit({\n      AppId: \"\",\n      AppHour: \"\",\n      AppDate: \"\",\n      AppStatus: \"\",\n      AppReport: \"\",\n      appointmentRate: \"\",\n      user: \"\",\n    });\n    setShow(false);\n  };\n\n  const handleShow = (type, data) => {\n    setFormType(type);\n    setDataToEdit(data);\n    setShow(true);\n  };\n\n  useEffect(() => {\n    ManageAppointments.getAppointments().then((res) => {\n      setAppointments(res.data);\n    });\n  }, []);\n\n  const deleteAppointment = async (id) => {\n    ManageAppointments.deleteArticle(id);\n    const filtredAppointments = appointments.filter(\n      (appointment) => appointment.id !== id\n    );\n    await setAppointments(filtredAppointments);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-center\">Manage Appointments</h2>\n      <div className=\"row\">\n        <Button variant=\"primary\" onClick={() => handleShow(\"add\")}>\n          Create New Appointment\n        </Button>\n      </div>\n      <br></br>\n      <div className=\"row\">\n        <table className=\"table table-striped table-bordered\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th> Start Hour</th>\n              <th>Date</th>\n              <th> Status</th>\n              <th> Report</th>\n              <th> Rating</th>\n              <th> Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {appointments.map((appointment) => (\n              <tr key={appointment.appId}>\n                <td>{appointment.appId}</td>\n                <td> {appointment.appHour} </td>\n                <td>{appointment.appDate}</td>\n                <td> {appointment.appStatus}</td>\n                <td> {appointment.appReport}</td>\n                <td>{appointment.appointmentRate.satisfaction}</td>\n                <td>\n                  <Button\n                    variant=\"info\"\n                    onClick={() => handleShow(\"edit\", appointment)}\n                  >\n                    Update{\"\"}\n                  </Button>\n                  <button\n                    style={{ marginLeft: \"10px\" }}\n                    onClick={() => deleteAppointment(appointment.AppId)}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <AppointmentsForm\n          show={show}\n          handleClose={handleClose}\n          as={formType}\n          dataToEdit={dataToEdit}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Appointments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}